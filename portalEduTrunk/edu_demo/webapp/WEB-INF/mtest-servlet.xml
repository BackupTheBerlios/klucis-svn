<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd">
	
	<!--
	<bean id="velocityConfig"
		class="org.springframework.web.servlet.view.velocity.VelocityConfigurer">
		
		<property name="resourceLoaderPath">
			<value>/WEB-INF/velocity/</value>
		</property>
		
		<property name="velocityProperties">
			<props>
				<prop key="input.encoding">UTF-8</prop>
				<prop key="output.encoding">UTF-8</prop>
			</props>
		</property>
	</bean>
		-->
	
	<bean id="localeResolver"
		class="org.springframework.web.servlet.i18n.CookieLocaleResolver"/>
	
	<bean id="localeChangeInterceptor"
		class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor"/>
	
	<bean id="messageSource"
		class="org.springframework.context.support.ResourceBundleMessageSource">
		
		<property name="basename" value="messages"/>
	</bean>
	
	<!--
	<bean id="servletContextFactory"
		class="org.springframework.web.context.support.ServletContextFactoryBean"/>
     -->
		
	<!--	
	<bean id="portalDescription"
		class="lv.webkursi.mtest.core.data.FileModelFactory">
		<property name="baseDir">
			<value>WEB-INF/data</value>
		</property>
		<property name="fileName">
			<value>portalDescription.n3</value>
		</property>
		<property name="servletContext">
			<ref bean="servletContextFactory"/>
		</property>
	</bean>
		-->
	
	<bean id="loginController" class="lv.webkursi.mtest.core.mvc.LoginController">
		<!--
		<property name="serviceFactory">
			<ref bean="serviceFactory"/>
		</property>
			-->
	</bean>

	<bean id="welcomeController"
		class="lv.webkursi.mtest.lab02.mvc.FixedController">
	</bean>
	
	<bean id="userSimpleController"
		class="lv.webkursi.mtest.lab02.mvc.FixedSimpleFormController">
		<property name="validator">
			<bean class="lv.webkursi.mtest.lab02.data.UserValidator"/>
		</property>
		<property name="dao">
			<bean class="lv.webkursi.mtest.lab02.dao.DummyDao"/>
		</property>		
	</bean>

	<bean id="urlMapping"
		class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
		
		<property name="interceptors">
			<list>
				<ref bean="localeChangeInterceptor"/>
			</list>
		</property>
		
		<property name="mappings">
			<props>
				<prop key="/welcome.do">welcomeController</prop>
				<prop key="/user_new.do">userSimpleController</prop>
			</props>
		</property>
	</bean>
	
	<!--
	<bean id="serviceFactory" class="lv.webkursi.mtest.core.mvc.ServiceFactory">
	</bean>
	
	<bean id="userService" class="lv.webkursi.mtest.core.data.UserService">
		<property name="model" ref="model"/>
	</bean>
	
	<bean id="model" class="lv.webkursi.mtest.core.data.DBModelFactory">
	</bean>
	
	<bean id="userSettings" class="lv.webkursi.mtest.core.scopes.UserSettings"
		scope="session">
		<aop:scoped-proxy/>
	</bean>
		-->
	
	<bean id="viewResolver"
		class="org.springframework.web.servlet.view.ResourceBundleViewResolver">
		<property name="basename" value="views-portaledu"/>
		<property name="defaultParentView" value="modelView"/>
	</bean>

</beans>