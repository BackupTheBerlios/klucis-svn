@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix mtest: <http://www.webkursi.lv/schema/mtest#> .
@prefix portal: <http://www.webkursi.lv/schema/portal#> .

    
portal:Amos
    rdf:type mtest:User ;
    mtest:userName "Amos" ;
    mtest:password "Amos" .
        
portal:Ezekiel
    rdf:type mtest:User ;
    mtest:userName "Ezekiel" ;
    mtest:password "Ezekiel" .
        
portal:fixedPageset
    rdf:type mtest:PageSet ;
    mtest:name "fixed.do" ;
    mtest:rootComponent portal:fixedRootComponent ;
    mtest:ruleList [
        a rdf:Seq ;
        rdf:_1 portal:rule1     
    ] .
        
portal:rule1 
    rdf:type mtest:Rule ;
    mtest:condition [
        rdf:type mtest:IntegerRangeCondition ;
        mtest:conditionSource portal:incDecFacet1 ;
        mtest:conditionLowerBound 15 ;
        mtest:conditionUpperBound 18 
    ] ;
    mtest:action [
        rdf:type mtest:AddFacetAction ;
        mtest:facet portal:incDecFacet2 ;
        mtest:compositeFacet portal:fixedCompositeFacet 
    ] .    

portal:loginPageset
    rdf:type mtest:PageSet ;
    mtest:name "login.do" ;
    mtest:rootComponent portal:fixedRootComponent ;
    mtest:ruleList [
        a rdf:Seq ;
    ] .    
         
portal:fixedRootComponent
    rdf:type mtest:RootComponent ;
    mtest:viewName "temp/fixed_root" ;
    mtest:title "MARS PortalTest: Fixed Pageset" ;   
    mtest:hasComponents [
        a rdf:Bag ;
        rdf:_1 [        
            mtest:modelKey "top" ;
            mtest:component portal:fixedTopComponent 
        ] ;
        rdf:_2 [
            mtest:modelKey "fb" ;
            mtest:component portal:fixedCompositeFacet 
        ] ;
        rdf:_3 [ 
            mtest:modelKey "main" ;
            mtest:component portal:fixedResultPane
        ]
    ] .    
    
portal:fixedResultPane
    rdf:type mtest:ResultPane ;
    mtest:viewName "temp/fixed_resultpane" ;
    mtest:model [
        a rdf:Bag ;
        rdf:_1 [
            mtest:modelKey "message" ;
            mtest:value "Results" 
        ] 
    ] ;
    mtest:resultMapper portal:classNameMapper ;
    mtest:source portal:fixedCompositeFacet .

portal:classNameMapper
    rdf:type mtest:TypeStringMapper ;
    mtest:typeStringMap [
        a rdf:Bag ;
        rdf:_1 [
            mtest:key "java.lang.Integer" ;
            mtest:value [
                rdf:type mtest:SimpleComponent ;
                mtest:viewName "resultpanes/integerView"
            ]
        ] ;
        rdf:_2 [
            mtest:key "java.lang.String" ;
            mtest:value [
                rdf:type mtest:SimpleComponent ;
                mtest:viewName "resultpanes/textView"
            ]
        ] ;
        rdf:_3 [
            mtest:key "lv.webkursi.mtest.core.components.facets.IncDecFacetState" ;
            mtest:value [
                rdf:type mtest:SimpleComponent ;
                mtest:viewName "resultpanes/incDecFacetView"            
            ]
        ] ;
        rdf:_4 [
            mtest:key "lv.webkursi.mtest.core.components.facets.TextFacetState" ;
            mtest:value [
                rdf:type mtest:SimpleComponent ;
                mtest:viewName "resultpanes/textFacetView" 
            ]
        ] 
    ] ;
    mtest:defaultValue [
        rdf:type mtest:SimpleComponent ;
        mtest:viewName "resultpanes/class_mapper"
    ] .

    
portal:fixedTopComponent
    rdf:type mtest:TopComponent ;
    mtest:viewName "top_component" .

portal:fixedCompositeFacet
    rdf:type mtest:CompositeFacet ;
    mtest:viewName "temp/fixed_composite_facet" ;
    mtest:facetAddList [
        a rdf:Seq ;
        mtest:belongsTo portal:System ;
        rdf:_1 [
            mtest:facet portal:textFacet1 ;
            mtest:state "A"
        ] ;
        rdf:_2 [
            mtest:facet portal:incDecFacet1 ;
            mtest:state 10
        ]
    ] ;
    mtest:facetAddList [
        a rdf:Seq ;
        mtest:belongsTo portal:Amos ;
        rdf:_1 [ 
            mtest:facet portal:messageFacet1 ;
            mtest:state "Welcome, Amos!"
        ]    
    ] ;
    mtest:facetAddList [
        a rdf:Seq ;
        mtest:belongsTo portal:Ezekiel ;
        rdf:_1 [
            mtest:facet portal:messageFacet2 ;
            mtest:state "Welcome, Ezekiel!"
        ] ;
        rdf:_2 [
            mtest:facet portal:incDecFacet3 ;
            mtest:state "17"
        ]
    ] ;
    mtest:model [
        a rdf:Bag ;
        rdf:_1 [
            mtest:modelKey "message" ;
            mtest:value "Active facets" 
        ] 
    ] ;
    mtest:facetCatalog portal:facetCatalog .

portal:textFacet1 
    rdf:type mtest:TextFacet ;
    mtest:viewName "temp/facet_textbox" ;
    mtest:title "Alphabetic Filter" ;
    mtest:defaultState "" .

portal:incDecFacet1 
    rdf:type mtest:IncDecFacet ;
    mtest:viewName "temp/facet_inc_dec" ;
    mtest:title "Upper Bound" ;
    mtest:defaultState 0 .
    
portal:incDecFacet2
    rdf:type mtest:IncDecFacet ;
    mtest:viewName "temp/facet_inc_dec" ;
    mtest:title "Lower Bound" ;
    mtest:defaultState 0 .

portal:incDecFacet3 
    rdf:type mtest:IncDecFacet ;
    mtest:viewName "temp/facet_inc_dec" ;
    mtest:title "Upper Bound1" ;
    mtest:defaultState 0 .

portal:messageFacet1
    rdf:type mtest:MessageFacet ;
    mtest:viewName "temp/facet_message" ;
    mtest:title "Welcome" ;
    mtest:defaultState "Welcome, Nobody!" .

portal:messageFacet2
    rdf:type mtest:MessageFacet ;
    mtest:viewName "temp/facet_message" ;
    mtest:title "Welcome" ;
    mtest:defaultState "Welcome, Nobody!" .

# This is unused
portal:fixedLoginComponent
    rdf:type mtest:SimpleComponent ;
    mtest:viewName "temp/fixed_login" .

    